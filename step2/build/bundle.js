(()=>{"use strict";const e=function(e){const t=e.target.parentNode.querySelector("p"),n=e.target.parentNode;let c,o;"button"===e.target.getAttribute("type")?(c="취소"===e.target.innerHTML,o=!c,t.style.color=c?"":"#09F",e.target.innerHTML=c?"완료":"취소",n.querySelector(".check").checked=o):(o=!1===e.target.checked,c=o,t.style.color=c?"":"#09F",n.querySelector(".complete").innerHTML=c?"완료":"취소")},t=function(e){e.target.parentNode.remove()},n=function n(c){const o=c.target.parentNode,r=o.innerHTML,l=o.querySelector(".check").checked;function u(){o.querySelector(".complete").onclick=e,o.querySelector(".check").onclick=e,o.querySelector(".update").onclick=n,o.querySelector(".remove").onclick=t}o.innerHTML=`\n      <form name="modifierForm" action="">\n          <fieldset>\n              <legend hidden>아이템 수정</legend>\n              <label>\n                  <span hidden>아이템 수정</span>\n                  <input type="text" value="${o.querySelector("p").innerHTML.trim()}" size="40">\n              </label>\n              <button type="submit">완료</button>\n              <button class="cancel" type="button">취소</button>\n          </fieldset>\n      </form>\n  `,o.querySelector(".cancel").onclick=function(){o.innerHTML=r,o.querySelector(".check").checked=l,u()},o.addEventListener("keyup",(function(e){"Escape"===e.key&&(o.innerHTML=r,o.querySelector(".check").checked=l,u())})),o.querySelector("form").onsubmit=function(e){e.preventDefault();const t=o.querySelector("input").value;o.innerHTML=r,o.querySelector("p").innerHTML=t,o.querySelector(".check").checked=l,u()}},c=document.forms.appenderForm,o=document.querySelector("#todoList");c.onsubmit=function(r){r.preventDefault();const l=c.querySelector("input"),u=document.createElement("li");l.value?(u.innerHTML=`\n\t\t<input class="check" type="checkbox" style="margin-right:15px">\n\t\t<p>\n\t\t\t\t${l.value}\n\t\t</p>\n\t\t<button class="complete" type="button">완료</button>\n\t\t<button class="update" type="button">수정</button>\n\t\t<button class="remove" type="button">삭제</button>\n\t\t`,o.appendChild(u),l.value="",l.focus(),u.querySelector(".remove").onclick=t,u.querySelector(".complete").onclick=e,u.querySelector(".check").onclick=e,u.querySelector(".update").onclick=n):alert("아이템 이름을 입력해주세요.")},o.querySelectorAll(".remove").forEach((function(e){e.onclick=t})),o.querySelectorAll(".complete").forEach((function(t){t.onclick=e})),o.querySelectorAll(".update").forEach((function(e){e.onclick=n}))})();