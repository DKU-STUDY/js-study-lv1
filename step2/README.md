# 2주차: 번들러 조사 및 적용(webpack, parcel)

## 📣 요구사항

- [X] 번들러 조사
  - [X] 번들이란 무엇인가?
    - Bundle = "묶음"
    - 연관있는 (의존성이 있는) 파일들을 모은 '묶음'
    - 모듈화된 파일들을 하나 또는 여러 개의 파일로 통합한다.

  - [X] 번들을 하는 이유는?
    - 서버로부터 받아야하는 파일의 수와 크기를 줄여주므로 네트워크 비용이 감소한다.
    - 보안을 위해 사용자가 직접 코드를 보기 어렵도록 난독화한다
    - 다양한 브라우저 환경에서 문제가 없도록 가공/변환해준다.

  - 모듈?
    - 소프트웨어의 크기가 방대해지면 기능별로 파일을 분리한다. 이 각각의 파일들을 모듈이라고 한다.
    - 필요할 때 모듈을 불러와 그 모듈의 함수를 호출하고 변수에 접근할 수 있다.
    - <u>유지보수가 편리하고 재사용성을 높여준다.</u>

- [X] 모듈 시스템에 대해 알아보기
  - [X] CommonJS
    - CommonJS 그룹이 정의한 모듈 표준
    - 서버사이드/데스크탑 APP에 더 적합한 방식이다.
    - 동기적 모듈 호출 (파일이 로컬에 존재함)
    - Node.JS와 Webpack이 CommonJS를 표준으로 사용한다.
  - [X] AMD
    - Asynchronous Module Definition : 비동기적 모듈 선언
    - AMD 그룹이 정의한 비동기 모듈(파일을 네트워크로 다운로드)의 표준
    - 브라우저 환경에서 더 유연한 방식이다.
  - [X] RequireJS
    - AMD 모듈 정의를 따르는 JavaScript 파일 & 모듈 로더
    - 파일을 동적으로 로딩할 수 있다.
  - 동적 로딩?
    - 프로그램 실행시 필요할 때만 메모리를 생성하고 사용하지 않는 메모리는 소멸시킨다.
    - 정적 로딩은 실행 시 모든 파일을 메모리에 로드한다.
    - script가 요청, 다운로드, 파싱(구문분석), 실행하는동안 브라우저는 다른 동작을 하지 않는다.
    - 동적 로딩을 사용하면 렌더링을 방해하지 않고 필요한 파일을 로딩한다.
  - [X] ESM
    - ES6에서 처음 도입된 자바스크립트 표준 모듈 시스템
    - `export`와 `import` 방식을 사용한다.
    - 일부 브라우저에서는 지원하지 않는다.
  - [X] 브라우저 모듈
    - 브라우저에서 모듈을 사용하려면 script 태그 안에 `type="module"`를 추가한다.
    - `script type="module" src="main.mjs"></script>`
    - 클래식 스크립트 `script src="main.js"></script>`는 모듈과 다르다. 차이는 `type="module"`.
    - 모듈에 `.mjs` 확장자를 사용할 수 있다. 안 써도 되지만 코드를 안 봐도 모듈인지 알 수 있다.

- [X] 번들러 종류 [모듈 시스템 / 번들러 비교](https://wormwlrm.github.io/2020/08/12/History-of-JavaScript-Modules-and-Bundlers.html)
  - [X] parcel
    - 빌드 실행과 번들 속도가 빠르다.
    - 특별한 설정이 없어도 된다.
    - HMR 지원
    - HMR(Hot Module Replacement) : 코드 수정 시 브라우저를 새로고침 하지 않고 수정된 부분만 실시간으로 리로드함.
    - `Babel`, `PostCSS` 같은 트랜스파일러가 내장되어 관련 설정파일을 자동 변환한다.
    - Babel : 자바스크립트 트랜스파일러. 다른 환경에서도 실행할 수 있도록 소스코드를 수정.
    - PostCSS : 자바스크립트 플러그인으로 CSS를 더 편리하게 사용하도록 변환.
  - [X] webpack
    - 모듈 간 의존성 관리가 편리하다.
    - HMR 지원
    - 안정성이 좋다.
    - 플러그인으로 기능을 확장할 수 있다.
      - 로더 : `webpack`이 자바스크립트가 아닌 파일을 이해할 수 있게 변환.
  - [X] rollup
    - ES6 모듈 형식으로 빌드 결과를 출력한다.
    - 중복 제거에 효율적이다.
      - Tree Shaking : 빌드 시에 사용하지 않는 코드를 제거하는 방식.
    - 번들링 속도가 빠르고 가볍다.
    - 라이브러리에 사용하기 좋다.
      - 라이브러리 : 필요한 기능을 재사용하기 쉽도록 만들어진 코드 묶음.
      - [X] vite
      - 브라우저의 `<script module>`을 사용할 때 번들링 없이 필요한 모듈만 HTTP로 요청해 불러온다.
      - 프로덕션 빌드 시에는 `Rollup`으로 번들링 작업을 넘겨준다. `Vite`는 번들러가 아니다.
      - 프로젝트 크기에 상관없이 속도가 빠르고 일관적이다.


- [X] 번들러 적용
  - [X] 번들러 설치를 위해 nodejs + npm 설치
  - [X] Webpack으로 번들링하기

## 번들러 관련 자료
- [모듈화의 역사](https://medium.com/@chullino/%EC%9B%B9%ED%8C%A9-3-4-js%EB%AA%A8%EB%93%88%ED%99%94-%EC%97%AD%EC%82%AC-%EB%8F%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1-9df997f82002)
- [module](https://gitlab.com/siots-study/topics/-/wikis/module)
- [모듈 소개](https://ko.javascript.info/modules-intro)
- [babel과 webpack을 이용한 ES6 환경 구축](https://poiemaweb.com/es6-babel-webpack-1)
