(()=>{const e=document.querySelector('form[name="appenderForm"]'),t=document.querySelector("#itemList"),n=t.querySelectorAll(".remove"),r=t.querySelectorAll(".edit"),o=t.querySelectorAll(".cancel"),c=t.querySelectorAll(".complete"),l=t.querySelectorAll(".done");function a(e){e.preventDefault(),$parent=e.target.parentNode.parentNode.parentNode;var t=` <p style = "#000000">${$parent.querySelector("input").value}</p>\n        <button class="complete" type="button">완료</bytton>\n        <button class="edit" type="button">수정</bytton>\n        <button class="remove" type="button">삭제</bytton>`;$parent.innerHTML=t,$parent.querySelector(".complete").addEventListener("click",i),$parent.querySelector(".edit").addEventListener("click",p),$parent.querySelector(".remove").addEventListener("click",u)}function i(e){$parent=e.target.parentNode,$node=$parent.querySelector(".complete"),$parent.querySelector("p").style.color="#09F",$node.innerText="취소",$node.className="cancel",$node.removeEventListener("click",i),$node.addEventListener("click",d)}function d(e){$parent=e.target.parentNode,$node=$parent.querySelector(".cancel"),$parent.querySelector("p").style.color="#000000",$node.innerText="완료",$node.className="complete",$node.removeEventListener("click",d),$node.addEventListener("click",i)}function p(e){$parent=e.target.parentNode,$originHTML=$parent.innerHTML,insertContent=$parent.querySelector("p").innerText;var t=`<form name="modifierForm" action="">\n        <fieldset>\n        <legend hidden>아이템 수정</legend>\n        <label>\n        <span hidden> 아이템 수정 </span>\n        <input type="text" value="${insertContent}" size="40">\n        </label>\n        <button class ="done" type="submit">완료</button>\n        <button class="revoke" type="button">취소</bytton>\n        </fieldset>\n        </form>`;$parent.innerHTML=t,$parent.querySelector(".done").addEventListener("click",a),$parent.querySelector(".revoke").addEventListener("click",(function(e){e.preventDefault(),$parent.innerHTML=$originHTML,$parent.querySelector(".complete").addEventListener("click",i),$parent.querySelector(".edit").addEventListener("click",p),$parent.querySelector(".remove").addEventListener("click",u)}))}function u(e){console.log("delete Clicked"),$parent=e.target.parentNode,$parent.remove()}t.querySelector(".revoke"),e.addEventListener("submit",(function(n){n.preventDefault();var r=e.querySelector("input").value,o=document.createElement("li");o.innerHTML=`<p style="color: #000000">${r}</p>\n                <button class="complete" type="button">완료</button>\n                <button class="edit" type="button">수정</button>\n                <button class="remove" type="button">삭제</button>`,t.append(o),o.querySelector(".complete").addEventListener("click",i),o.querySelector(".edit").addEventListener("click",p),o.querySelector(".remove").addEventListener("click",u)})),n.forEach((e=>e.addEventListener("click",u))),r.forEach((e=>e.addEventListener("click",p))),o.forEach((e=>e.addEventListener("click",d))),c.forEach((e=>e.addEventListener("click",i))),l.forEach((e=>e.addEventListener("click",a)))})();